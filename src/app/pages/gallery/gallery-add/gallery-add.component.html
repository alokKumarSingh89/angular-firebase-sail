<toaster-container [toasterconfig]="toastConfig"></toaster-container>
<h2 class="title" *ngIf="!galleryModal.title">Add Gallery</h2>
<h2 class="title" *ngIf="galleryModal.title">{{galleryModal.title}} Gallery</h2>

<form (ngSubmit)="submitForm()" #form="ngForm" autocomplete="nope">
    <div class="row">
        <div class="form-group col-md-6">
            <label for="input-email" class="sr-only">Title</label>
            <input name="title" [(ngModel)]="galleryModal.title" id="input-title"  class="form-control" placeholder="Title"
                #title="ngModel" [class.form-control-danger]="title.invalid && title.touched" autofocus required maxlength="25">
            <small class="form-text error" *ngIf="title.invalid && title.touched && title.errors?.required">
                Title is required!
            </small>
        </div>
   
        <div class="form-group col-md-6">
            <label for="input-email" class="sr-only">Description</label>
            <input name="description" [(ngModel)]="galleryModal.description" id="input-description"  class="form-control" placeholder="Description"
                #description="ngModel" [class.form-control-danger]="description.invalid && description.touched" autofocus required maxlength="60">
            <small class="form-text error" *ngIf="description.invalid && description.touched && description.errors?.required">
                Description is required!
            </small>
        </div>
    </div>

    <!-- <div class="row" style="margin:15px 0px;">
        <div class="col-md-12">
            <form [formGroup]="uploadForm" (ngSubmit)="onImageUpload()">
                <div class="row"> 
                    <div class="col-md-6">
                            Upload Image  :
                            <input type="file" name="avatar" id="fileToUpload" formControlName="file1" (change)="fileEvent($event)">
                    </div>
                    <div class="col-md-6">
                        <input type="submit" value="Upload" name="submit" class="btn btn-success">
                    </div>

                </div>
            </form>
        </div>
    </div> -->

    <div class="row">
            <div class="col-md-12">
                <div class="btn btn-success" (click)="previewUrlModal()" style="margin:15px 0px;float: left;margin-right: 10px;">Add Image</div>
                <img src={{imageUrl}}  width="100px;"/>
                <p class="form-text error" *ngIf="previewUrlErrMsg" style="margin:-10px 15px;">
                        Image is required!
                </p>
            </div>
        </div>


    <div class="row">
        <div class="form-group col-md-12">
                <label for="input-imageDescription" class="sr-only">Image Description</label>
                <input name="imageDescription" [(ngModel)]="galleryModal.imageDescription" id="input-imageDescription"  class="form-control" placeholder="Image Description"
                    #imageDescription="ngModel" [class.form-control-danger]="imageDescription.invalid && imageDescription.touched" autofocus  maxlength="60">
                <small class="form-text error" *ngIf="imageDescription.invalid && imageDescription.touched && imageDescription.errors?.required">
                    Image Description is required!
                </small>
        </div>
    </div>
    <button [disabled]="(!form.valid) || !isImageUpload " class="btn btn-block btn-hero-success">
        Save Gallery
    </button>
</form>

<div style="margin-top:20px;"></div>

<!-- <div class="responsive" *ngFor="let url of images">
    <div  class="gallery" >
            <img src="{{url.imageUrl}}"   width="600" height="400">
    </div>
    <div class="desc">{{url.imageDesc}}     
        <i class="fa fa-times-circle" style="float:right;color:red;cursor:pointer;" (click) ="deleteImage(url)"></i></div>
</div> -->
      
<div>
    <a *ngFor="let url of images" (click) = "false;">
      <figure>
        <img src="{{url.imageUrl}}" alt="">
        <figcaption>
            {{url.imageDesc}}     
            <i class="fa fa-times-circle" style="float:right;color:red;cursor:pointer;" (click) ="deleteImage(url)"></i>
        </figcaption>
      </figure>
    </a>
  </div>